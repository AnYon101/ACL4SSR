port: 7890
allow-lan: true
bind-address: '*'
mode: Rule
log-level: info
external-controller: '127.0.0.1:9090'
dns:
  enable: true
  default-nameserver:
    - 223.5.5.5
    - 119.29.29.29
  ipv6: false
  use-hosts: true
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16
  fake-ip-filter:
    - "*.lan"
    - stun.*.*.*
    - stun.*.*
    - time.windows.com
    - time.nist.gov
    - time.apple.com
    - time.asia.apple.com
    - "*.ntp.org.cn"
    - "*.openwrt.pool.ntp.org"
    - time1.cloud.tencent.com
    - time.ustc.edu.cn
    - pool.ntp.org
    - ntp.ubuntu.com
    - ntp.aliyun.com
    - ntp1.aliyun.com
    - ntp2.aliyun.com
    - ntp3.aliyun.com
    - ntp4.aliyun.com
    - ntp5.aliyun.com
    - ntp6.aliyun.com
    - ntp7.aliyun.com
    - time1.aliyun.com
    - time2.aliyun.com
    - time3.aliyun.com
    - time4.aliyun.com
    - time5.aliyun.com
    - time6.aliyun.com
    - time7.aliyun.com
    - "*.time.edu.cn"
    - time1.apple.com
    - time2.apple.com
    - time3.apple.com
    - time4.apple.com
    - time5.apple.com
    - time6.apple.com
    - time7.apple.com
    - time1.google.com
    - time2.google.com
    - time3.google.com
    - time4.google.com
    - music.163.com
    - "*.music.163.com"
    - "*.126.net"
    - musicapi.taihe.com
    - music.taihe.com
    - songsearch.kugou.com
    - trackercdn.kugou.com
    - "*.kuwo.cn"
    - api-jooxtt.sanook.com
    - api.joox.com
    - joox.com
    - y.qq.com
    - "*.y.qq.com"
    - streamoc.music.tc.qq.com
    - mobileoc.music.tc.qq.com
    - isure.stream.qqmusic.qq.com
    - dl.stream.qqmusic.qq.com
    - aqqmusic.tc.qq.com
    - amobile.music.tc.qq.com
    - "*.xiami.com"
    - "*.music.migu.cn"
    - music.migu.cn
    - "*.msftconnecttest.com"
    - "*.msftncsi.com"
    - localhost.ptlogin2.qq.com
    - "*.*.*.srv.nintendo.net"
    - "*.*.stun.playstation.net"
    - xbox.*.*.microsoft.com
    - "*.ipv6.microsoft.com"
    - "*.*.xboxlive.com"
    - speedtest.cros.wr.pvp.net
  nameserver:
    - https://223.6.6.6/dns-query
    - https://rubyfish.cn/dns-query
    - https://dns.pub/dns-query
  fallback:
    - https://dns.rubyfish.cn/dns-query
    - https://public.dns.iij.jp/dns-query
    - tls://8.8.4.4
  fallback-filter:
    geoip: true
    ipcidr:
      - 240.0.0.0/4
      - 0.0.0.0/32
      - 127.0.0.1/32
    domain:
      - +.google.com
      - +.facebook.com
      - +.twitter.com
      - +.youtube.com
      - +.xn--ngstr-lra8j.com
      - +.google.cn
      - +.googleapis.cn
      - +.googleapis.com
      - +.gvt1.com
proxies:

proxy-providers:
 sample A:
    type: http
    #ã€Metaä¸“å±ã€‘URLæ”¯æŒè§£æV2rayNç­‰å·¥å…·ä½¿ç”¨çš„æ™®é€šè®¢é˜…
    url: "https://****subscribe?token=****"
    interval: 3600
    path: ./samplea.yaml
    health-check:
      enable: true
      interval: 600
      # lazy: true
      url: http://www.gstatic.com/generate_204  
         
proxy-groups:
  - name: ğŸ’¸ Proxies
    type: select
    use:
      - sample A
    proxies:
      - DIRECT
  - name: ğŸŒ Google
    type: select
    proxies:
      - ğŸ’¸ Proxies
      - ğŸ‡ºğŸ‡² US
      - ğŸ‡­ğŸ‡° HK
      - ğŸ‡¨ğŸ‡³ TW
      - ğŸ‡¸ğŸ‡¬ SG
      - ğŸ‡¯ğŸ‡µ JP
      - ğŸ‡°ğŸ‡· KR
  - name: ğŸ¥ Netflix
    type: select
    proxies:
      - ğŸ’¸ Proxies
      - ğŸ‡¸ğŸ‡¬ SG
      - ğŸ‡­ğŸ‡° HK
      - ğŸ‡¨ğŸ‡³ TW
      - ğŸ‡¯ğŸ‡µ JP
      - ğŸ‡ºğŸ‡² US
      - ğŸ‡°ğŸ‡· KR
  - name: â“‚ï¸ Microsoft
    type: select
    proxies:
      - DIRECT
      - ğŸ’¸ Proxies
      - ğŸ‡ºğŸ‡² US
      - ğŸ‡­ğŸ‡° HK
      - ğŸ‡¨ğŸ‡³ TW
      - ğŸ‡¸ğŸ‡¬ SG
      - ğŸ‡¯ğŸ‡µ JP
      - ğŸ‡°ğŸ‡· KR
  - name: ğŸ Apple
    type: select
    proxies:
      - DIRECT
      - ğŸ’¸ Proxies
      - ğŸ‡ºğŸ‡² US
      - ğŸ‡­ğŸ‡° HK
      - ğŸ‡¨ğŸ‡³ TW
      - ğŸ‡¸ğŸ‡¬ SG
      - ğŸ‡¯ğŸ‡µ JP
      - ğŸ‡°ğŸ‡· KR
  - name: ğŸ“² Telegram
    type: select
    proxies:
      - ğŸ’¸ Proxies
      - ğŸ‡ºğŸ‡² US
      - ğŸ‡­ğŸ‡° HK
      - ğŸ‡¨ğŸ‡³ TW
      - ğŸ‡¸ğŸ‡¬ SG
      - ğŸ‡¯ğŸ‡µ JP
      - ğŸ‡°ğŸ‡· KR
  - name: ğŸ¤– OpenAi
    type: select
    proxies:
      - ğŸ’¸ Proxies
      - ğŸ‡ºğŸ‡² US
      - ğŸ‡­ğŸ‡° HK
      - ğŸ‡¨ğŸ‡³ TW
      - ğŸ‡¸ğŸ‡¬ SG
      - ğŸ‡¯ğŸ‡µ JP
      - ğŸ‡°ğŸ‡· KR
  - name: ğŸ“¹ YouTube
    type: select
    proxies:
      - ğŸ’¸ Proxies
      - ğŸ‡¸ğŸ‡¬ SG
      - ğŸ‡­ğŸ‡° HK
      - ğŸ‡¨ğŸ‡³ TW
      - ğŸ‡¯ğŸ‡µ JP
      - ğŸ‡ºğŸ‡² US
      - ğŸ‡°ğŸ‡· KR
  - name: ğŸ“º BiliBili
    type: select
    proxies:
      - DIRECT
      - ğŸ‡¨ğŸ‡³ TW
      - ğŸ‡­ğŸ‡° HK
  - name: ğŸ® Steam
    type: select
    proxies:
      - DIRECT
      - ğŸ’¸ Proxies
      - ğŸ‡ºğŸ‡² US
      - ğŸ‡­ğŸ‡° HK
      - ğŸ‡¨ğŸ‡³ TW
      - ğŸ‡¸ğŸ‡¬ SG
      - ğŸ‡¯ğŸ‡µ JP
      - ğŸ‡°ğŸ‡· KR
  - name: ğŸ“µ Advertising
    type: select
    proxies:
      - REJECT
      - DIRECT
      - ğŸ’¸ Proxies
  - name: ğŸš« Hijacking
    type: select
    proxies:
      - REJECT
      - DIRECT
      - ğŸ’¸ Proxies    
  - name: âœ… Straight
    type: select
    proxies:
      - DIRECT
      - ğŸ’¸ Proxies
      - ğŸ‡ºğŸ‡² US
      - ğŸ‡­ğŸ‡° HK
      - ğŸ‡¨ğŸ‡³ TW
      - ğŸ‡¸ğŸ‡¬ SG
      - ğŸ‡¯ğŸ‡µ JP
      - ğŸ‡°ğŸ‡· KR
  - name: ğŸŸ Final
    type: select
    proxies:
      - DIRECT
      - ğŸ’¸ Proxies
      - ğŸ‡ºğŸ‡² US
      - ğŸ‡­ğŸ‡° HK
      - ğŸ‡¨ğŸ‡³ TW
      - ğŸ‡¸ğŸ‡¬ SG
      - ğŸ‡¯ğŸ‡µ JP
      - ğŸ‡°ğŸ‡· KR
      
  - name: ğŸ‡­ğŸ‡° HK
    type: select
    proxies:      
    filter: "æ¸¯|HK|Hong Kong"
    use:
      - sample A
      
              
  - name: ğŸ‡¸ğŸ‡¬ SG
    type: select
    proxies:      
    filter: "æ–°åŠ å¡|å¡|ç‹®åŸ|SG|Singapore"
    use:
      - sample A

  - name: ğŸ‡¨ğŸ‡³ TW
    type: select
    proxies:
    filter: "å°|æ–°åŒ—|å½°åŒ–|TW|Taiwan"
    use:
      - sample A
      
  - name: ğŸ‡¯ğŸ‡µ JP
    type: select
    proxies:
    filter: "æ—¥æœ¬|å·æ—¥|ä¸œäº¬|å¤§é˜ª|æ³‰æ—¥|åŸ¼ç‰|æ²ªæ—¥|æ·±æ—¥|[^-]æ—¥|JP|Japan"
    use:
      - sample A  

  - name: ğŸ‡ºğŸ‡² US
    type: select
    proxies:
    filter: "ç¾|æ³¢ç‰¹å…°|è¾¾æ‹‰æ–¯|ä¿„å‹’å†ˆ|å‡¤å‡°åŸ|è´¹åˆ©è’™|ç¡…è°·|æ‹‰æ–¯ç»´åŠ æ–¯|æ´›æ‰çŸ¶|åœ£ä½•å¡|åœ£å…‹æ‹‰æ‹‰|è¥¿é›…å›¾|èŠåŠ å“¥|US|United States"
    use: 
      - sample A     
  - name: ğŸ‡°ğŸ‡· KR
    type: select
    filter: "éŸ©å›½|éŸ©|ğŸ‡°ğŸ‡·|KR|(?i)Korea|é¦–å°”"
    use: 
      - sample A
    proxies:
rule-providers:
  APPLE:
    behavior: classical # domain ipcidr
    interval: 259200
    path: /APPLE.yaml
    type: http
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Apple/Apple_Classical.yaml"
  GOOGLE:
    behavior: classical # domain ipcidr
    interval: 259200
    path: /GOOGLE.yaml
    type: http
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Google/Google.yaml"
  Microsoft:
    behavior: classical # domain ipcidr
    interval: 259200
    path: /Microsoft.yaml
    type: http
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Microsoft/Microsoft.yaml"
  Telegram:
    behavior: classical # domain ipcidr
    interval: 259200
    path: /Telegram.yaml
    type: http
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Telegram/Telegram.yaml"
  Netflix:
    behavior: classical # domain ipcidr
    interval: 259200
    path: /Netflix.yaml
    type: http
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Netflix/Netflix.yaml"
  YouTube:
    behavior: classical # domain ipcidr
    interval: 259200
    path: /YouTube.yaml
    type: http
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/YouTube/YouTube.yaml"
  BiliBili:
    behavior: classical # domain ipcidr
    interval: 259200
    path: /BiliBili.yaml
    type: http
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/BiliBili/BiliBili.yaml"
  Steam:
    behavior: classical # domain ipcidr
    interval: 259200
    path: /Steam.yaml
    type: http
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Steam/Steam.yaml"
  China_Classical:
    behavior: classical # domain ipcidr
    interval: 259200
    path: /China_Classical.yaml
    type: http
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/China/China_Classical.yaml"
  Advertising:
    behavior: classical # domain ipcidr
    interval: 259200
    path: /Advertising.yaml
    type: http
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Advertising/Advertising.yaml"
  AdGuard:
    behavior: classical # domain ipcidr
    interval: 259200
    path: /AdGuard.yaml
    type: http
    url: "https://raw.githubusercontent.com/zt6/github_blackmatrix7_ios_rule_script/master/rule/Clash/AdGuardSDNSFilter/AdGuardSDNSFilter_Classical.yaml"
  Hijacking:
    behavior: classical # domain ipcidr
    interval: 259200
    path: /Hijacking.yaml
    type: http
    url: "https://raw.githubusercontent.com/zt6/github_blackmatrix7_ios_rule_script/master/rule/Clash/Hijacking/Hijacking.yaml"

rules:
  - RULE-SET,APPLE,ğŸ Apple
  - RULE-SET,GOOGLE,ğŸŒ Google
  - RULE-SET,Microsoft,â“‚ï¸ Microsoft
  - RULE-SET,Telegram,ğŸ“² Telegram
  - RULE-SET,Netflix,ğŸ¥ Netflix
  - RULE-SET,YouTube,ğŸ“¹ YouTube
  - RULE-SET,BiliBili,ğŸ“º BiliBili
  - RULE-SET,Steam,ğŸ® Steam
  - RULE-SET,Advertising,ğŸ“µ Advertising
  - RULE-SET,AdGuard,ğŸ“µ Advertising
  - RULE-SET,Hijacking,ğŸš« Hijacking  
  - DOMAIN-SUFFIX,openai.com,ğŸ¤– OpenAi
  - DOMAIN-SUFFIX,openai.nooc.ink,ğŸ¤– OpenAi
  - DOMAIN-SUFFIX,AI.com,ğŸ¤– OpenAi
  - GEOIP,LAN,âœ… Straight
  - GEOIP,CN,âœ… Straight
  - RULE-SET,China_Classical,âœ… Straight 
  - MATCH,ğŸŸ Final
