#!MANAGED-CONFIG http://test.com/surfboard.conf interval=60 strict=true # subscribe profile url and auto update config
[General]
ipv6 = false
loglevel = info
show-error-page-for-reject = true
# Specify dns server used by application
dns-server = system, 223.5.5.5, 119.29.29.29, 8.8.8.8

# Specify doh server used by application
doh-server = https://223.5.5.5/dns-query

# Specify route rule and domain rule, matching traffic will not be redirected or rejected.
skip-proxy = 127.0.0.1, 192.168.0.0/16, 10.0.0.0/8, 172.16.0.0/12, 100.64.0.0/10, localhost, *.local, *.crashlytics.com, seed-sequoia.siri.apple.com, sequoia.apple.com

# Test url used by url-test and manually node speed test. Redirect proxy will use this url.
proxy-test-url = http://www.gstatic.com/generate_204

# Test url used by url-test and manually node speed test. Direct proxy will use this url.
internet-test-url = http://www.gstatic.cn/generate_204

# Timeout for all connectivity test
test-timeout = 5

# Match domain won't get fake ip dns response
always-real-ip = *.srv.nintendo.net, *.stun.playstation.net, xbox.*.microsoft.com, *.xboxlive.com, 

# Establish a http proxy server on your device and provide proxy service in specified ip
http-listen = 0.0.0.0:8888

# Establish a socks5 proxy server on your device and provide proxy service in specified ip
socks5-listen = 0.0.0.0:8889

# If proxy not support udp relay, use DIRECT or REJECT instead
udp-policy-not-supported-behaviour = DIRECT

[Host]
# map 'abc.com' to '1.2.3.4'
services.googleapis.cn = 216.58.200.67
www.google.cn = 216.58.200.67
mtalk.google.com = 108.177.125.188

# map any domain end with '.dev' to '6.7.8.9'
*.dev = 6.7.8.9

# alias 'bar.com' dns query result to 'foo.com'
#foo.com = bar.com

# assign '8.8.8.8' as dns server for 'bar.com'
#bar.com = server:8.8.8.8

[Proxy]
# build in policy
DIRECT = direct
REJECT = reject



[Proxy Group]
# proxy group whose selected proxy can be changed manually
SelectGroup = select, ProxyHTTP, ProxyHTTPS, DIRECT, REJECT

# proxy group whose selected proxy can be decided based on url test result automatically
AutoTestGroup = url-test, ProxySOCKS5, ProxySOCKS5TLS, url=http://www.gstatic.com/generate_204, interval=600, tolerance=100, timeout=5, hidden=true

# proxy group with a external proxies list url
ExternalGroup = select, policy-path=https://test.com/nodes.txt, policy-regex-filter=HK-.*
AutoExternalGroup = url-test, policy-path=https://test.com/nodes.txt

# proxy group which contains all proxy under [Proxy] section
AllProxies = select, include-all-proxies = true

# proxy group whose selection is chosen randomly
LoadBalanceGroup = load-balance, ProxyHTTP, ProxyHTTPS

# proxy group just like url-test but follow 'first come first served' rule
FallbackGroup = fallback, ProxySOCKS5, ProxySOCKS5TLS, url=http://www.gstatic.com/generate_204, interval=600, timeout=5

[Rule]
# > Spotify
DOMAIN-SUFFIX,ap.spotify.com,Direct
# > Google
DOMAIN,mtalk.google.com,DIRECT
DOMAIN,mobile-gtalk.l.google.com,DIRECT
DOMAIN,alt1-mtalk.google.com,DIRECT
DOMAIN,alt2-mtalk.google.com,DIRECT
DOMAIN,alt3-mtalk.google.com,DIRECT
DOMAIN,alt4-mtalk.google.com,DIRECT
DOMAIN,alt5-mtalk.google.com,DIRECT
DOMAIN,alt6-mtalk.google.com,DIRECT
DOMAIN,alt7-mtalk.google.com,DIRECT
DOMAIN,alt8-mtalk.google.com,DIRECT
DOMAIN,alt9-mtalk.google.com,DIRECT
DOMAIN-SUFFIX,mobile-gtalk.l.google.com,DIRECT

# > Download
PROCESS-NAME,aria2c,Direct
PROCESS-NAME,fdm,Direct
PROCESS-NAME,Folx,Direct
PROCESS-NAME,NetTransport,Direct
PROCESS-NAME,Thunder,Direct
PROCESS-NAME,Transmission,Direct
PROCESS-NAME,uTorrent,Direct
PROCESS-NAME,WebTorrent,Direct
PROCESS-NAME,WebTorrent Helper,Direct

# ------Rulesets (è§„åˆ™é›†ï¼‰------


# > Local Area Network å±€åŸŸç½‘
IP-CIDR,192.168.0.0/16,Direct
IP-CIDR,10.0.0.0/8,Direct
IP-CIDR,172.16.0.0/12,Direct
IP-CIDR,127.0.0.0/8,Direct
IP-CIDR,100.64.0.0/10,Direct
IP-CIDR,224.0.0.0/4,Direct

# > ChinaIP
# ä½¿ç”¨æ¥è‡ª ipipdotnet çš„ ChinaIP ä»¥è§£å†³æ•°æ®ä¸å‡†ç¡®çš„é—®é¢˜ï¼Œä½¿ç”¨ ChinaIP.list æ—¶ç¦ç”¨ã€ŒGEOIP,CNã€è§„åˆ™
RULE-SET, https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Extra/ChinaIP.list, Direct

# > GeoIP China(è‹¥å¯ç”¨ï¼Œåˆ™ç¦ç”¨ ChinaIP.list)
# GEOIP,CN,Direct

# > DNS æŸ¥è¯¢å¤±è´¥èµ° Final è§„åˆ™
FINAL,ğŸ§­ Final,dns-failed
