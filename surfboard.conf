#!MANAGED-CONFIG #local
[General]
ipv6 = false
loglevel = info
show-error-page-for-reject = true
# Specify dns server used by application
dns-server = system, 223.5.5.5, 119.29.29.29, 8.8.8.8

# Specify doh server used by application
doh-server = https://223.5.5.5/dns-query

# Specify route rule and domain rule, matching traffic will not be redirected or rejected.
skip-proxy = 127.0.0.1, 192.168.0.0/16, 10.0.0.0/8, 172.16.0.0/12, 100.64.0.0/10, localhost, *.local, *.crashlytics.com, seed-sequoia.siri.apple.com, sequoia.apple.com

# Test url used by url-test and manually node speed test. Redirect proxy will use this url.
proxy-test-url = http://www.gstatic.com/generate_204

# Test url used by url-test and manually node speed test. Direct proxy will use this url.
internet-test-url = http://www.gstatic.cn/generate_204

# Timeout for all connectivity test
test-timeout = 5

# Match domain won't get fake ip dns response
always-real-ip = *.srv.nintendo.net, *.stun.playstation.net, xbox.*.microsoft.com, *.xboxlive.com, 

# Establish a http proxy server on your device and provide proxy service in specified ip
http-listen = 0.0.0.0:8888

# Establish a socks5 proxy server on your device and provide proxy service in specified ip
socks5-listen = 0.0.0.0:8889

# If proxy not support udp relay, use DIRECT or REJECT instead
udp-policy-not-supported-behaviour = DIRECT

[Host]
# map 'abc.com' to '1.2.3.4'
services.googleapis.cn = 216.58.200.67
www.google.cn = 216.58.200.67
mtalk.google.com = 108.177.125.188

# map any domain end with '.dev' to '6.7.8.9'
*.dev = 6.7.8.9

# alias 'bar.com' dns query result to 'foo.com'
#foo.com = bar.com

# assign '8.8.8.8' as dns server for 'bar.com'
#bar.com = server:8.8.8.8

[Proxy]
# build in policy
DIRECT = direct
REJECT = reject



[Proxy Group]
ğŸ’¸ Proxies = select, policy-path=https://test.com/nodes.txt, policy-regex-filter=.*
ğŸŒ Google = select, ğŸ’¸ Proxies, ğŸ‡ºğŸ‡² US, ğŸ‡­ğŸ‡° HK, ğŸ‡¨ğŸ‡³ TW, ğŸ‡¸ğŸ‡¬ SG, ğŸ‡¯ğŸ‡µ JP
ğŸ¥ Netflix = select, ğŸ’¸ Proxies, ğŸ‡¸ğŸ‡¬ SG, ğŸ‡­ğŸ‡° HK, ğŸ‡¨ğŸ‡³ TW, ğŸ‡¯ğŸ‡µ JP, ğŸ‡ºğŸ‡² US
â“‚ï¸ Microsoft = select, DIRECT, ğŸ’¸ Proxies, ğŸ‡ºğŸ‡² US, ğŸ‡­ğŸ‡° HK, ğŸ‡¨ğŸ‡³ TW, ğŸ‡¸ğŸ‡¬ SG, ğŸ‡¯ğŸ‡µ JP
ğŸ Apple = select, DIRECT, ğŸ’¸ Proxies, ğŸ‡ºğŸ‡² US, ğŸ‡­ğŸ‡° HK, ğŸ‡¨ğŸ‡³ TW, ğŸ‡¸ğŸ‡¬ SG, ğŸ‡¯ğŸ‡µ JP
ğŸ“² Telegram = select, ğŸ’¸ Proxies, ğŸ‡¸ğŸ‡¬ SG, ğŸ‡­ğŸ‡° HK, ğŸ‡¨ğŸ‡³ TW, ğŸ‡¯ğŸ‡µ JP, ğŸ‡ºğŸ‡² US, DIRECT
ğŸ¤– OpenAi = select, ğŸ’¸ Proxies, ğŸ‡ºğŸ‡² US, ğŸ‡­ğŸ‡° HK, ğŸ‡¨ğŸ‡³ TW, ğŸ‡¸ğŸ‡¬ SG, ğŸ‡¯ğŸ‡µ JP 
ğŸ“¹ YouTube = select, ğŸ’¸ Proxies, ğŸ‡¸ğŸ‡¬ SG, ğŸ‡­ğŸ‡° HK, ğŸ‡¨ğŸ‡³ TW, ğŸ‡¯ğŸ‡µ JP, ğŸ‡ºğŸ‡² US
ğŸ“º BiliBili = select, DIRECT, ğŸ‡¨ğŸ‡³ TW, ğŸ‡­ğŸ‡° HK
ğŸ® Steam = select, DIRECT, ğŸ’¸ Proxies, ğŸ‡ºğŸ‡² US, ğŸ‡­ğŸ‡° HK, ğŸ‡¨ğŸ‡³ TW, ğŸ‡¸ğŸ‡¬ SG, ğŸ‡¯ğŸ‡µ JP  
ğŸ“µ Advertising = select, REJECT, DIRECT, ğŸ’¸ Proxies
ğŸš« Hijacking = select, REJECT, DIRECT, ğŸ’¸ Proxies
âœ… Straight = select, DIRECT, ğŸ’¸ Proxies, ğŸ‡ºğŸ‡² US, ğŸ‡­ğŸ‡° HK, ğŸ‡¨ğŸ‡³ TW, ğŸ‡¸ğŸ‡¬ SG, ğŸ‡¯ğŸ‡µ JP 
ğŸŸ Final = select, DIRECT, ğŸ’¸ Proxies, ğŸ‡ºğŸ‡² US, ğŸ‡­ğŸ‡° HK, ğŸ‡¨ğŸ‡³ TW, ğŸ‡¸ğŸ‡¬ SG, ğŸ‡¯ğŸ‡µ JP 
ğŸ‡­ğŸ‡° HK = select, policy-path=https://test.com/nodes.txt, policy-regex-filter=æ¸¯|HK|Hong Kong|é¦™
ğŸ‡¸ğŸ‡¬ SG = select, policy-path=https://test.com/nodes.txt, policy-regex-filter=æ–°åŠ å¡|å¡|ç‹®åŸ|SG|(?!)Singapore|æ–°
ğŸ‡¨ğŸ‡³ TW = select, policy-path=https://test.com/nodes.txt, policy-regex-filter=å°|æ–°åŒ—|å½°åŒ–|TW|(?!)Taiwan
ğŸ‡¯ğŸ‡µ JP = select, policy-path=https://test.com/nodes.txt, policy-regex-filter=æ—¥æœ¬|å·æ—¥|ä¸œäº¬|å¤§é˜ª|æ³‰æ—¥|åŸ¼ç‰|æ²ªæ—¥|æ·±æ—¥|[^-]æ—¥|JP|(?!)Japan
ğŸ‡ºğŸ‡² US = select, policy-path=https://test.com/nodes.txt, policy-regex-filter=ç¾|æ³¢ç‰¹å…°|è¾¾æ‹‰æ–¯|ä¿„å‹’å†ˆ|å‡¤å‡°åŸ|è´¹åˆ©è’™|ç¡…è°·|æ‹‰æ–¯ç»´åŠ æ–¯|æ´›æ‰çŸ¶|åœ£ä½•å¡|åœ£å…‹æ‹‰æ‹‰|è¥¿é›…å›¾|èŠåŠ å“¥|US|(?!)United States

[Rule]
# > Spotify
DOMAIN-SUFFIX,ap.spotify.com,Direct
# > Google
DOMAIN,mtalk.google.com,DIRECT
DOMAIN,mobile-gtalk.l.google.com,DIRECT
DOMAIN,alt1-mtalk.google.com,DIRECT
DOMAIN,alt2-mtalk.google.com,DIRECT
DOMAIN,alt3-mtalk.google.com,DIRECT
DOMAIN,alt4-mtalk.google.com,DIRECT
DOMAIN,alt5-mtalk.google.com,DIRECT
DOMAIN,alt6-mtalk.google.com,DIRECT
DOMAIN,alt7-mtalk.google.com,DIRECT
DOMAIN,alt8-mtalk.google.com,DIRECT
DOMAIN,alt9-mtalk.google.com,DIRECT
DOMAIN-SUFFIX,mobile-gtalk.l.google.com,DIRECT

# > Download
PROCESS-NAME,aria2c,Direct
PROCESS-NAME,fdm,Direct
PROCESS-NAME,Folx,Direct
PROCESS-NAME,NetTransport,Direct
PROCESS-NAME,Thunder,Direct
PROCESS-NAME,Transmission,Direct
PROCESS-NAME,uTorrent,Direct
PROCESS-NAME,WebTorrent,Direct
PROCESS-NAME,WebTorrent Helper,Direct

# ------Rulesets (è§„åˆ™é›†ï¼‰------
ruleset, https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Google/Google.list, ğŸŒ Google
ruleset, https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Netflix/Netflix.list, ğŸ¥ Netflix
ruleset,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Microsoft/Microsoft.list, â“‚ï¸ Microsoft
ruleset, https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Telegram/Telegram.list, ğŸ“² Telegram
ruleset, https://raw.githubusercontent.com/Twoandz9/Clash/main/list/OpenAi.list, ğŸ¤– OpenAi
ruleset, https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/YouTube/YouTube.list, ğŸ“¹ YouTube
ruleset, https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Apple/Apple.list, ğŸ Apple
ruleset, https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/BiliBili/BiliBili.list, ğŸ“º BiliBili
ruleset, https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Steam/Steam.list, ğŸ® Steam
;å»å¹¿å‘Šå®Œæ•´ç‰ˆ
;ruleset=ğŸ“µ Advertising,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Advertising/Advertising.list
;ADguardlist
ruleset, https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/AdvertisingLite/AdvertisingLite.list, ğŸ“µ Advertising
;çŸ¥ä¹å»å¹¿å‘Š
ruleset, https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/ZhihuAds/ZhihuAds.list, ğŸ“µ Advertising
ruleset, https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Hijacking/Hijacking.list, ğŸš« Hijacking
ruleset, https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Lan/Lan.list, âœ… Straight

# > Local Area Network å±€åŸŸç½‘
IP-CIDR,192.168.0.0/16,Direct
IP-CIDR,10.0.0.0/8,Direct
IP-CIDR,172.16.0.0/12,Direct
IP-CIDR,127.0.0.0/8,Direct
IP-CIDR,100.64.0.0/10,Direct
IP-CIDR,224.0.0.0/4,Direct

# > ChinaIP
# ä½¿ç”¨æ¥è‡ª ipipdotnet çš„ ChinaIP ä»¥è§£å†³æ•°æ®ä¸å‡†ç¡®çš„é—®é¢˜ï¼Œä½¿ç”¨ ChinaIP.list æ—¶ç¦ç”¨ã€ŒGEOIP,CNã€è§„åˆ™
RULE-SET, https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Extra/ChinaIP.list, Direct
# > GeoIP China(è‹¥å¯ç”¨ï¼Œåˆ™ç¦ç”¨ ChinaIP.list)
# GEOIP,CN,Direct
GEOIP,CN,DIRECT
FINAL, ğŸŸ Final
# > DNS æŸ¥è¯¢å¤±è´¥èµ° Final è§„åˆ™
FINAL, ğŸŸ Finall, dns-failed
